---
layout: post
comments: true
categories: SQlite
---
使用Qt自带的QSqlDatabase连接多个数据库总是出问题。

    QSqlDatabase db = QSqlDatabase::addDatabase("QSQLITE");
    db.setDatabaseName("one.db");
    db.open();
    QSqlQuery query("one.db");

    QSqlDatabase db2 = QSqlDatabase::addDatabase("QSQLITE");
    db2.setDatabaseName("two.db");
    db2.open();
    QSqlQuery query2("two.db");

    query.exec("SELECT * FROM table");
最后一句无法运行

显示

> 底层由于接收到操作系统的信号而停止

> 信号名称:SIGSEGV

> 信号含义:Segmentation fault

我的理解是已经指定了query连接的数据库，就应该没有问题，不知道为什么，期望高手解答一下。

搞明白了

    QSqlDatabase db = QSqlDatabase::addDatabase("QSQLITE");需要指定链接名，

    QSqlDatabase db = QSqlDatabase::addDatabase("QSQLITE"，"one");

然后

    QSqlQuery query(db);

就可以使用了
